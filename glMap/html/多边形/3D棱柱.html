<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>多边形拔起:3D棱柱</title>
</head>
<script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=T66BZ-HCDEV-PDMPP-UIB4K-5Q43T-KKFUD"></script>
<style>
    html,
    body {
        height: 100%;
        margin: 0px;
        padding: 0px;
    }

    #mapContainer {
        width: 100%;
        height: 100%;
    }
</style>

<body onload="initMap()">
    <div id="mapContainer"></div>
</body>

</html>
<script>
    function initMap() {
        //初始化地图
        var map = new TMap.Map('mapContainer', {
            center: new TMap.LatLng(40.036907, 116.262577),//地图显示中心点
            zoom: 16,	//缩放级别
            pitch: 30,
        });
        var path = [
            [40.03847438521698, 116.26140117645264],
            [40.038178675807515, 116.26140117645264],
            [40.03791582192258, 116.26208782196045],
            [40.037488682198514, 116.26165866851807],
            [40.03719296851454, 116.26243114471436],
            [40.037258682777356, 116.26328945159912],
            [40.037455825185845, 116.26311779022217],
            [40.03768582394209, 116.2642765045166],
            [40.037882965115706, 116.26423358917236],
            [40.038342958971086, 116.26384735107422],
            [40.03870438053774, 116.26341819763184],
            [40.03854009824492, 116.26260280609131],
            [40.03854009824492, 116.26174449920654]
        ]
        //转为LatLng数组
        path = path.map(p => {
            return new TMap.LatLng(p[0], p[1]);
        });

        //初始化polygon
        var polygon = new TMap.MultiPolygon({
            id: 'polygon-layer', //图层id
            map, //设置多边形图层显示到哪个地图实例中
            //多边形样式
            styles: {
                'polygon': new TMap.ExtrudablePolygonStyle({
                    'color': 'rgba(0,125,255,0.9)', //面填充色
                    'showBorder': true, //是否显示拔起面的边线
                    'extrudeHeight': 100, //多边形拔起高度
                    'borderColor': 'rgba(0,125,255,1)' //边线颜色
                })
            },
            //多边形数据
            geometries: [
                {
                    'id': 'p1', //该多边形在图层中的唯一标识（删除、更新数据时需要）
                    'styleId': 'polygon', //绑定样式名
                    'paths': path, //多边形轮廓
                }
            ]
        });
    }
</script>